<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" type="text/css" href="css/estilo.css" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
      crossorigin="anonymous"
    />
    <title>PCD SHOP.</title>
    <link rel="stylesheet" href="./css/config.css" />
  </head>

  <body>
    <!--HEADER-->
    <header
      class="border-bottom border-danger fs-5"
      style="background-color: #337aff; color: white"
    >
      <nav class="navbar">
        <div class="container">
          <a class="navbar-brand" href="index.html">
            <img
              src="imagens/PCD.png"
              alt="Logo"
              id="SHOP"
              width="95px"
              height="95px"
            />
          </a>
          <div class="row">
            <div class="col">
              <a href="login.html"
                ><img src="imagens/perfil.png" width="32px" height="32px"
              /></a>
              Olá, faça seu login ou cadastre-se
            </div>
          </div>
          <div class="row">
            <div class="col">
              <a href="favoritos.html"
                ><img
                  src="imagens/free-heart-icon-3510-thumb.png"
                  width="31px"
                  height="31px"
              /></a>
              &nbsp;
              <a href="indexcarrinho.html"
                ><img src="imagens/shopping-cart-icon.png" height="31px"
              /></a>
            </div>
          </div>

          <!--Sidebar-->
          <button
            class="navbar-toggler end-0"
            type="button"
            data-bs-toggle="offcanvas"
            data-bs-target="#offcanvasDarkNavbar"
            aria-controls="offcanvasDarkNavbar"
            aria-label="Toggle navigation"
          >
            <span><img src="imagens/menu_icon.png" /></span>
          </button>

          <div
            class="offcanvas offcanvas-end container-fluid w-auto"
            tabindex="-1"
            id="offcanvasDarkNavbar"
            aria-labelledby="offcanvasDarkNavbarLabel"
          >
            <div class="offcanvas-header">
              <h5
                class="offcanvas-title text-black text-danger"
                id="offcanvasDarkNavbarLabel"
              >
                <span style="color: #337aff">MENU</span>
              </h5>
              <button
                type="submit"
                class="btn-close btn-close-dark"
                data-bs-dismiss="offcanvas"
                aria-label="Close"
              ></button>
            </div>
            <div class="offcanvas-body">
              <ul
                class="navbar-nav justify-content-end flex-grow-1 pe-3 mx-0.25"
              >
                <li class="nav-item border-bottom border-2 border-black">
                  <a class="nav-link" href="config.html">
                    <span class="fw-bold fs-5 text-black">
                      <img
                        src="imagens/perfil_icon.png"
                        class="img-fluid d-inline-block align-text-rignt"
                      />
                      MEU PERFIL</span
                    >
                  </a>
                </li>
                <li class="nav-item pt-4">
                  <a
                    class="nav-link active"
                    aria-current="page"
                    href="index.html"
                  >
                    <span class="fw-bold fs-5 text-black">
                      <img
                        src="imagens/home.png"
                        class="img-fluid d-inline-block align-text-rignt"
                      />
                      HOME</span
                    >
                  </a>
                </li>
                <li class="nav-item">
                  <a
                    class="nav-link active"
                    aria-current="page"
                    href="indexcarrinho.html"
                  >
                    <span class="fw-bold fs-5 text-black">
                      <img
                        src="imagens/carrinho_icon.png"
                        class="img-fluid d-inline-block align-text-rignt"
                      />
                      MEU CARRINHO</span
                    >
                  </a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="vendas.html">
                    <span class="fw-bold fs-5 text-black">
                      <img
                        src="imagens/compras_icon.png"
                        class="img-fluid d-inline-block align-text-rignt"
                      />
                      COMPRAS/VENDAS</span
                    >
                  </a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="suporte.html">
                    <span class="fw-bold fs-5 text-black">
                      <img
                        src="imagens/chat.png"
                        class="img-fluid d-inline-block align-text-rignt"
                      />
                      SUPORTE</span
                    >
                  </a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="config.html">
                    <span class="fw-bold fs-5 text-black">
                      <img
                        src="imagens/config_icon.png"
                        class="img-fluid d-inline-block align-text-rignt"
                      />
                      CONFIGURAÇÕES</span
                    >
                  </a>
                </li>

                <li class="nav-item position-absolute bottom-0">
                  <a class="nav-link" href="login.html">
                    <span class="fw-bold fs-5 text-black">
                      <img
                        src="imagens/logout_icon.png"
                        class="img-fluid d-inline-block align-text-rignt"
                      />
                      LOG OUT</span
                    >
                  </a>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </nav>
    </header>
  
    <!--MAIN-->
      <div id="form">
          <form action="">
            <h2 class="d-flex justify-content-center mb-3">PERFIL DO USUARIO</h2>
  
            <label for="nome">Nome Completo</label>
            <input type="text" id="nome" placeholder="Seu Nome" disabled>
  
            <label for="data">Data de Nascimento</label>
            <input type="date" id="data-nascimento" placeholder="xx/xx/xxxx" disabled>
  
            <label for="email">E-mail</label>
            <input type="email" id="email" placeholder="seu@email.com" disabled>
  
            <label for="telefone">Telefone</label>
            <input type="tel" id="telefone" placeholder="(xx) xxxx-xxxx" disabled>
  
  
            <div id="Botao-alterar-info">
              <!--Botões alterar os dados / alterar a senha-->
              <div class="form-group d-flex justify-content-end">
                <button type="button" class="ForgetPwd p-0 m-0 fs-5 btn btn-link btn-light p-2 d-inline text-decoration-none text-light bg-success me-2" 
                  data-bs-toggle="modal" data-bs-target="#alteradados">
                  Alterar dados
                </button>
  
                <button type="button" class="ForgetPwd p-0 m-0 fs-5 btn btn-link btn-light p-2 bg-primary d-inline text-decoration-none text-light"
                  data-bs-toggle="modal" data-bs-target="#mudarSenha">
                  Trocar a senha
                </button>
              </div>
  
              <!--Alterar dados-->
              <div class="modal fade" id="alteradados" tabindex="-1" aria-labelledby="exampleModalLabel1" aria-hidden="true">
                <div class="modal-dialog">
                  <div class="modal-content">
                    <div class="modal-header bg-success">
                      <h2 class="modal-title fs-5 text-light" id="exampleModalLabel1">Alterar Dados</h2>
                      <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                      <form>
                        <div class="mb-3">
                          <label for="nome" class="col-form-label">Novo Nome:</label>
                          <input type="text" class="form-control" id="novo-nome">
                        </div>
                        <div class="mb-3">
                          <label for="data" class="col-form-label">Nova data de Nascimento</label>
                          <input type="date" class="form-control" id="nova-data">
                        </div>
                        <div class="mb-3">
                          <label for="email" class="col-form-label">Confirmar e-mail</label>
                          <input type="email" class="form-control" id="novo-email">
                        </div>
                        <div class="mb-3">
                          <label for="telefone" class="col-form-label">Confirmar telefone</label>
                          <input type="tel" class="form-control" id="novo-telefone">
                        </div>
                        <div class="mb-3">
                          <button type="button" class="btn btn-success text-light" id="alterar-dados">Alterar dados</button>
                        </div>
                      </form>
                    </div>
                  </div>
                </div>
              </div>
            </div>
  
            <!--Alterar senha-->
            <div id="mudar-senha" class="container-fluid">
              <div class="modal fade" id="mudarSenha" tabindex="-1" aria-labelledby="exampleModalLabel1" aria-hidden="true">
                <div class="modal-dialog">
                  <div class="modal-content">
                    <div class="modal-header bg-primary">
                      <h2 class="modal-title fs-5 text-light" id="exampleModalLabel1">Troca de Senha</h2>
                      <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                      <form>
                        <div class="mb-3">
                          <label for="phone-number" class="col-form-label">Senha atual:</label>
                          <input type="password" class="form-control" id="senha-atual">
                        </div>
                        <div class="mb-3">
                          <label for="password-old" class="col-form-label">Nova senha</label>
                          <input type="password" class="form-control" id="nova-senha">
                        </div>
                        <div class="mb-3">
                          <label for="password-new" class="col-form-label">Confirmar senha</label>
                          <input type="password" class="form-control" id="confirma-senha">
                        </div>
                        <div class="mb-3">
                          <button type="button" class="btn btn-primary" id="troca-senha">Alterar senha</button>
                        </div>
                      </form>
                    </div>
                  </div>
                </div>
              </div>
            </div>
  
          </div>
  
  
  
          </form>
      </div>
      
      <footer class="mt-3 pt-2 pb-2 border-primary border-top" id="footer">
        <div class="container">
          <div class="row">
            <div class="col-3">
              <img src="imagens/PCD.png" alt="Logo" id="SHOP" width="95px" height="95px">
            </div>
            <div class="col-3">
              <h4>Informativo</h4>
              Política de privacidade <br>
              Dúvidas frequentes
            </div>
            <div class="col-3">
              <h4>Suporte ao consumidor</h4>
              Email: ----------- <br>
              Telefone: xxxx xxxx-xxxx
            </div>
            <div class="col-3 mx-auto text-center align-items-center">
              <h5>Métodos de pagamento</h5>
              <img src="imagens/pix_icon_.png" width="50px" height="50px"> &nbsp; <img src="imagens/card_icon.png"
                width="50px" height="50px"> &nbsp; <img src="imagens/boleto_icon.png" width="50px" height="50px">
    
            </div>
          </div>
          <div class="row-cols-12 text-center">
            © Copyright PUC Minas 2023 - Minas Gerais (...)
          </div>
        </div>
      </footer>
  

  </body>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
  integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
  crossorigin="anonymous">
</script>

<script>
  
  document.addEventListener('DOMContentLoaded', function () {
  // Função para preencher os campos nos modais com os dados do último usuário cadastrado
  function preencherCampos() {
    // Obter os usuários do localStorage
    var usuariosCadastrados = JSON.parse(localStorage.getItem('usuarios')) || [];

    // Verificar se há algum usuário cadastrado
    if (usuariosCadastrados.length > 0) {
      // Obter o último usuário cadastrado
      var ultimoUsuario = usuariosCadastrados[usuariosCadastrados.length - 1];

      document.getElementById('nome').value = ultimoUsuario.nome;
      document.getElementById('data-nascimento').value = ultimoUsuario.dataNascimento;
      document.getElementById('email').value = ultimoUsuario.email;
      document.getElementById('telefone').value = ultimoUsuario.telefone;

      // Preencher os campos nos modais "Alterar Dados" e "Trocar Senha"
      document.getElementById('novo-nome').value = ultimoUsuario.nome;
      document.getElementById('nova-data').value = ultimoUsuario.dataNascimento;
      document.getElementById('novo-email').value = ultimoUsuario.email;
      document.getElementById('novo-telefone').value = ultimoUsuario.telefone;
    }
  }

  // Chamar a função ao carregar a página
  preencherCampos();

  // Adicionar um ouvinte de evento para o botão "Alterar dados" no modal "Alterar Dados"
  document.getElementById('alterar-dados').addEventListener('click', function () {
    // Lógica para alterar os dados conforme necessário
    var usuariosCadastrados = JSON.parse(localStorage.getItem('usuarios')) || [];

  // Verificar se há algum usuário cadastrado
  if (usuariosCadastrados.length > 0) {
    // Obter o índice do último usuário cadastrado
    var indiceUltimoUsuario = usuariosCadastrados.length - 1;

    

    // Atualizar os dados do último usuário
    usuariosCadastrados[indiceUltimoUsuario].nome = novo-nome;
    usuariosCadastrados[indiceUltimoUsuario].dataNascimento = nova-data;
    usuariosCadastrados[indiceUltimoUsuario].email = novo-email;
    usuariosCadastrados[indiceUltimoUsuario].telefone = novo-telefone;

    // Salvar a lista atualizada no localStorage
    localStorage.setItem('usuarios', JSON.stringify(usuariosCadastrados));
  }
  });

  // Adicionar um ouvinte de evento para o botão "Trocar senha" no modal "Trocar Senha"
  document.getElementById('troca-senha').addEventListener('click', function () {
    // Lógica para trocar a senha conforme necessário
    // ...
    // Após trocar a senha, se desejar, atualizar novamente os campos chamando preencherCampos();
  });
});

</script>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    // Função para alterar os dados do usuário
    function alterarDados(novoNome, novaData, novoEmail, novoTelefone) {
      // Obter os usuários do localStorage
      var usuariosCadastrados = JSON.parse(localStorage.getItem('usuarios')) || [];
      
  
      // Verificar se há algum usuário cadastrado
      if (usuariosCadastrados.length > 0) {
        // Obter o índice do último usuário cadastrado
        var indiceUltimoUsuario = usuariosCadastrados.length - 1;
  
        // Atualizar os dados do último usuário
        usuariosCadastrados[indiceUltimoUsuario].nome = novoNome;
        usuariosCadastrados[indiceUltimoUsuario].dataNascimento = novaData;
        usuariosCadastrados[indiceUltimoUsuario].email = novoEmail;
        usuariosCadastrados[indiceUltimoUsuario].telefone = novoTelefone;
  
        // Salvar a lista atualizada no localStorage
        localStorage.setItem('usuarios', JSON.stringify(usuariosCadastrados));
      }
    }
  
    // Adicionar um ouvinte de evento para o botão "Alterar dados" no modal "Alterar Dados"
    document.getElementById('alterar-dados').addEventListener('click', function () {
      // Obter os novos dados do modal
      var novoNome = document.getElementById('novo-nome').value;
      var novaData = document.getElementById('nova-data').value;
      var novoEmail = document.getElementById('novo-email').value;
      var novoTelefone = document.getElementById('novo-telefone').value;
  
      // Chamar a função para alterar os dados
      alterarDados(novoNome, novaData, novoEmail, novoTelefone);
  
      // Lógica adicional após a alteração dos dados, se necessário
    });
  });
  </script>
  
  </html>
</html>
